/*! Fabrik */

"object"!==typeOf(window.FabrikAdmin)&&(FabrikAdmin={model:{fields:{element:{}}},reTip:function(){$$(".hasTip").each(function(e){var t=e.get("title");if(t){var n=t.split("::",2);e.store("tip:title",n[0]),e.store("tip:text",n[1])}}),new Tips($$(".hasTip"),{maxTitleChars:50,fixed:!1}),"undefined"!=typeof jQuery&&(jQuery(".hasTooltip").tooltip({html:!0,container:"body"}),jQuery(document).popover({selector:".hasPopover",trigger:"hover"}))}},window.fireEvent("fabrik.admin.namespace")),"undefined"!=typeof jQuery&&function(a){a(document).on("click",".btn-group label:not(.active)",null,function(e){var t=a(this),n=a("#"+t.attr("for"));n.prop("checked")||(t.closest(".btn-group").find("label").removeClass("active btn-success btn-danger btn-primary"),""===n.val()?t.addClass("active btn-primary"):0===n.val().toInt()?t.addClass("active btn-danger"):t.addClass("active btn-success"),n.prop("checked",!0),n.trigger("change"))})}(jQuery),"undefined"!=typeof jQuery&&jQuery(document).on("subform-row-add",function(e,t){var n=t.getAttribute("data-base-name"),a=t.getAttribute("data-group");if(a.startsWith(n)){var o=a.slice(n.length),i=new Event("change");t.getElements("select").each(function(e){e.set("value",e.getElement("option").get("value")),e.dispatchEvent(i)}),t.getElements("input, select, textarea").each(function(e){if(e.id){var a=e.id,i=a.replace(o+"__","X__");$H(FabrikAdmin.model.fields).each(function(e,t){if("null"!==typeOf(FabrikAdmin.model.fields[t][i])){var n=Object.clone(FabrikAdmin.model.fields[t][i]);!1!==n&&(n.cloned(a,o),FabrikAdmin.model.fields[t][a]=n)}})}})}else fconsole("Fabrik namespace: new subform row, but data-group=",a,"does not start with data-base-name=",n)});